<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>react-map-gl Example</title>
		<link
			href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css"
			rel="stylesheet"
		/>
		<style>
			body {
				margin: 0;
				font-family: Helvetica, Arial, sans-serif;
			}
			#map {
				width: 100vw;
				height: 100vh;
			}
			.control-panel {
				position: absolute;
				top: 0;
				right: 0;
				max-width: 320px;
				background: #fff;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
				padding: 12px 24px;
				margin: 20px;
				font-size: 13px;
				line-height: 2;
				color: #6b6b76;
				text-transform: uppercase;
				outline: none;
			}
			.fab {
				position: fixed;
				bottom: 20px;
				right: 20px;
				width: 56px;
				height: 56px;
				background: #007bff;
				border: none;
				border-radius: 50%;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
				z-index: 1000;
			}
			.fab:hover {
				background: #0056b3;
				transform: scale(1.1);
				box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
			}
			.fab:active {
				transform: scale(0.95);
			}
			.fab svg {
				width: 24px;
				height: 24px;
				fill: white;
			}
			.box-popup .mapboxgl-popup-content {
				padding: 0;
				border-radius: 16px;
				background: linear-gradient(135deg, #0f172a 0%, #1f2937 100%);
				color: #f9fafb;
				box-shadow: 0 18px 40px rgba(15, 23, 42, 0.65);
				border: 1px solid rgba(148, 163, 184, 0.12);
				width: auto;
				min-width: min(280px, calc(100vw - 64px));
				max-width: min(380px, calc(100vw - 48px));
				font-family: "Segoe UI", "Inter", sans-serif;
			}
			.box-popup .mapboxgl-popup-tip {
				border-top-color: #1f2937;
			}
			.popup-card {
				padding: 20px 22px;
				display: flex;
				flex-direction: column;
				gap: 18px;
				max-height: min(70vh, 520px);
				overflow-y: auto;
				touch-action: pan-y;
				scrollbar-width: thin;
				scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
			}
			.popup-card::-webkit-scrollbar {
				width: 8px;
			}
			.popup-card::-webkit-scrollbar-track {
				background: transparent;
			}
			.popup-card::-webkit-scrollbar-thumb {
				background: rgba(148, 163, 184, 0.35);
				border-radius: 999px;
			}
			.popup-card--dragging {
				user-select: none;
			}
			.popup-card__drag-handle {
				align-self: center;
				width: 64px;
				height: 6px;
				border-radius: 999px;
				background: rgba(148, 163, 184, 0.35);
				cursor: grab;
				transition: background 0.2s ease;
			}
			.popup-card__drag-handle:hover {
				background: rgba(148, 163, 184, 0.55);
			}
			.popup-card__drag-handle--dragging {
				background: rgba(148, 163, 184, 0.75);
				cursor: grabbing;
			}
			.popup-card__header {
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				gap: 16px;
				cursor: grab;
			}
			.popup-card--dragging .popup-card__header {
				cursor: grabbing;
			}
			.popup-card__headline {
				display: flex;
				flex-direction: column;
				gap: 6px;
			}
			.popup-card__title {
				margin: 0;
				font-size: 1.2rem;
				font-weight: 600;
				color: #fff;
			}
			.popup-card__subtitle {
				margin: 0;
				font-size: 0.82rem;
				letter-spacing: 0.08em;
				text-transform: uppercase;
				color: rgba(248, 250, 252, 0.6);
			}
			.status-badge {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				padding: 4px 10px;
				border-radius: 999px;
				font-size: 0.75rem;
				font-weight: 600;
				letter-spacing: 0.05em;
				text-transform: uppercase;
				border: 1px solid transparent;
			}
			.status-badge--active {
				background: rgba(45, 212, 191, 0.15);
				color: #5eead4;
				border-color: rgba(45, 212, 191, 0.35);
			}
			.status-badge--archived {
				background: rgba(248, 113, 113, 0.15);
				color: #fca5a5;
				border-color: rgba(248, 113, 113, 0.35);
			}
			.popup-card__section {
				display: flex;
				flex-direction: column;
				gap: 12px;
			}
			.popup-card__details {
				display: grid;
				grid-template-columns: minmax(0, 1fr);
				gap: 10px;
				margin: 0;
			}
			.popup-card__details div {
				display: flex;
				flex-direction: column;
				gap: 4px;
			}
			.popup-card__details dt {
				font-size: 0.75rem;
				letter-spacing: 0.05em;
				text-transform: uppercase;
				color: rgba(248, 250, 252, 0.6);
			}
			.popup-card__details dd {
				margin: 0;
				font-size: 0.95rem;
				font-weight: 500;
				color: #f8fafc;
			}
			.popup-card__code {
				font-family: "JetBrains Mono", "Fira Mono", monospace;
				font-size: 0.72rem;
				word-break: break-all;
				background: rgba(15, 23, 42, 0.5);
				padding: 8px 10px;
				border-radius: 8px;
			}
			.popup-card__section-header {
				display: flex;
				justify-content: space-between;
				align-items: baseline;
				gap: 12px;
			}
			.popup-card__section-header h4 {
				margin: 0;
				font-size: 1rem;
				font-weight: 600;
				color: #f8fafc;
			}
			.popup-card__section-header span {
				font-size: 0.82rem;
				color: rgba(226, 232, 240, 0.7);
			}
			.popup-card__description {
				margin: 0;
				font-size: 0.95rem;
				line-height: 1.4;
				color: rgba(241, 245, 249, 0.9);
			}
			.popup-card__link {
				display: inline-flex;
				align-items: center;
				gap: 6px;
				margin-top: 4px;
				font-size: 0.9rem;
				font-weight: 600;
				color: #38bdf8;
				text-decoration: none;
			}
			.popup-card__link:hover {
				text-decoration: underline;
			}
			.popup-card__section--tweets {
				gap: 16px;
			}
			.popup-card__tweets {
				list-style: none;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				gap: 14px;
			}
			.popup-card__tweet {
				background: rgba(15, 23, 42, 0.45);
				border-radius: 14px;
				border: 1px solid rgba(148, 163, 184, 0.18);
				padding: 14px 16px;
				display: flex;
				flex-direction: column;
				gap: 10px;
			}
			.popup-card__tweet-meta {
				display: flex;
				justify-content: space-between;
				align-items: baseline;
				gap: 12px;
				font-size: 0.78rem;
				letter-spacing: 0.03em;
				text-transform: uppercase;
				color: rgba(226, 232, 240, 0.65);
			}
			.popup-card__tweet-description {
				margin: 0;
				font-size: 0.95rem;
				line-height: 1.45;
				color: rgba(241, 245, 249, 0.9);
			}
			.popup-card__tweet-stats {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
				gap: 8px 12px;
				margin: 0;
				padding: 0;
				list-style: none;
				font-size: 0.82rem;
				color: rgba(226, 232, 240, 0.85);
			}
			.popup-card__tweet-stats li {
				display: flex;
				gap: 6px;
				align-items: baseline;
			}
			.popup-card__tweet-stats li strong {
				font-weight: 600;
				color: #f8fafc;
			}
			.popup-card__message {
				margin: 0;
				padding: 14px 16px;
				border-radius: 12px;
				font-size: 0.9rem;
				line-height: 1.4;
				background: rgba(148, 163, 184, 0.16);
				color: rgba(226, 232, 240, 0.85);
			}
			.popup-card__message--error {
				display: flex;
				flex-direction: column;
				gap: 6px;
				background: rgba(248, 113, 113, 0.14);
				color: #fecaca;
				border: 1px solid rgba(248, 113, 113, 0.25);
			}
			.popup-card__message--error small {
				display: block;
				margin-top: 8px;
				font-size: 0.75rem;
				opacity: 0.75;
			}
			.popup-card__retry {
				margin-top: 12px;
				padding: 6px 14px;
				border-radius: 999px;
				border: 1px solid rgba(56, 189, 248, 0.45);
				background: rgba(56, 189, 248, 0.15);
				color: #bae6fd;
				font-size: 0.85rem;
				font-weight: 600;
				cursor: pointer;
				transition: background 0.2s ease, border-color 0.2s ease;
			}
			.popup-card__retry:hover {
				background: rgba(56, 189, 248, 0.24);
				border-color: rgba(56, 189, 248, 0.65);
			}
			.popup-card__sentinel {
				text-align: center;
				font-size: 0.8rem;
				color: rgba(148, 163, 184, 0.8);
				padding: 8px 0 4px;
			}
		</style>
	</head>
	<body>
		<div id="map"></div>
	</body>
	<script type="module" type="text/javascript">
		import { renderToDom } from "./src/app.tsx";
		renderToDom(document.getElementById("map"));
	</script>
</html>
